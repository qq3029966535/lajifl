# 需求文档

## 介绍

生态防御游戏是一款以2150年地球生态危机为背景的垃圾分类防御游戏。玩家扮演"环保卫士"，在虚拟绿色家园中建立垃圾分类防线，阻止垃圾僵尸军团入侵生态核心区。游戏采用Q版卡通+Low Poly 3D风格，旨在通过寓教于乐的方式普及垃圾分类知识和环保意识。

## 需求

### 需求 1 - 游戏世界观与美术系统

**用户故事：** 作为玩家，我希望体验一个具有未来感和环保主题的游戏世界，以便沉浸在环保教育的氛围中。

#### 验收标准

1. 当游戏启动时，系统应当显示2150年地球生态危机的背景故事介绍
2. 当游戏运行时，系统应当使用清新薄荷绿（背景）+ 天空蓝（轨道）+ 纯净白（能量光效）的主色调
3. 当显示角色时，系统应当呈现Q版卡通风格的垃圾桶和Low Poly 3D风格的垃圾僵尸
4. 当垃圾桶处于待机状态时，系统应当显示动态表情和拟人化特征

### 需求 2 - 垃圾桶防御系统

**用户故事：** 作为玩家，我希望能够操控不同类型的垃圾桶来分类收集垃圾，以便学习正确的垃圾分类方法。

#### 验收标准

1. 当玩家按下1-4数字键时，系统应当选择对应的垃圾桶类型（厨余、可回收、有害、其他）
2. 当玩家点击鼠标左键时，系统应当在指定轨道位置放置选中的垃圾桶
3. 当垃圾桶被选中时，系统应当播放对应的拟人化台词
4. 当垃圾桶成功收取垃圾时，系统应当播放欢呼动画和音效
5. 如果垃圾桶类型错误，系统应当播放警报声并显示错误提示

### 需求 3 - 垃圾僵尸入侵系统

**用户故事：** 作为玩家，我希望面对不同类型的垃圾僵尸挑战，以便在游戏中学习识别各种垃圾类型。

#### 验收标准

1. 当关卡开始时，系统应当生成对应类型的垃圾僵尸从右向左移动
2. 当垃圾僵尸移动时，系统应当显示文字提示标识垃圾类型
3. 当垃圾僵尸行进时，系统应当播放对应的视觉特效（如有害垃圾冒紫烟）
4. 当垃圾僵尸到达轨道终点时，系统应当触发失败条件
5. 如果垃圾僵尸被正确分类收取，系统应当移除该僵尸并增加分数

### 需求 4 - 轨道与关卡系统

**用户故事：** 作为玩家，我希望通过逐渐增加难度的关卡来提升我的垃圾分类技能。

#### 验收标准

1. 当游戏开始时，系统应当提供5个递进难度的关卡
2. 当关卡1时，系统应当显示1条轨道和基础3类垃圾
3. 当关卡2-5时，系统应当逐步增加轨道数量（2-5条）和垃圾类型复杂度
4. 当每个关卡开始时，系统应当设置2分钟的倒计时限制
5. 当所有垃圾被正确分类时，系统应当判定通关并自动进入下一关
6. 当有任何一个垃圾通过轨道终点未被分类时，系统应当立即判定关卡失败
7. 当倒计时结束且仍有垃圾未处理完毕时，系统应当判定关卡失败

### 需求 5 - 交互反馈系统

**用户故事：** 作为玩家，我希望获得清晰的操作反馈，以便了解我的分类是否正确。

#### 验收标准

1. 当垃圾被正确分类时，系统应当播放"叮！分类正确+10分"音效
2. 当垃圾分类错误时，系统应当播放警报声并弹出3秒纠错动画
3. 当错误发生后，系统应当允许玩家切换垃圾桶重新尝试
4. 当关卡失败时（垃圾通过轨道或时间耗尽），系统应当弹出"重新开始"或"继续本关"选择框
5. 当使用继续选项时，系统应当扣除1次复活机会并重置关卡倒计时

### 需求 6 - 教育强化系统

**用户故事：** 作为玩家，我希望在游戏过程中学习到实用的环保知识。

#### 验收标准

1. 当关卡通关时，系统应当显示本关分类数据和环保冷知识
2. 当分类错误时，系统应当演示正确的投放方式
3. 当通关后，系统应当解锁"自由模式"供玩家练习
4. 当查看统计时，系统应当显示历史最高分和分类准确率曲线
5. 当游戏进行时，系统应当实时更新玩家的分类成就数据

### 需求 7 - 音效与动效系统

**用户故事：** 作为玩家，我希望享受丰富的视听体验来增强游戏的沉浸感。

#### 验收标准

1. 当操作成功时，系统应当播放轻快电子音和垃圾桶欢呼动画
2. 当操作失败时，系统应当播放低沉警报声和屏幕震动效果
3. 当游戏运行时，系统应当持续播放鸟鸣与流水声背景音效
4. 当垃圾桶收取垃圾时，系统应当播放对应的动作动画
5. 当切换关卡时，系统应当播放过渡音效和视觉效果